# SpinalSurgery Research Platform - 프로젝트 요구사항 문서 (PRD)

## 1. 프로젝트 배경

### 1.1 문제 정의
- 의료 연구자들은 논문 작성에 많은 시간을 소비하며, 특히 관련 논문 검색, 데이터 정리, 통계 분석에 어려움을 겪음
- 환자 데이터 관리가 체계적이지 않아 연구 효율성 저하
- Informed Consent 작성 등 반복적인 문서 작업에 시간 낭비

### 1.2 솔루션
AI 기반 통합 연구 플랫폼을 통해 연구 프로세스 전반을 자동화하고 최적화

## 2. 사용자 페르소나

### 2.1 주요 사용자
1. **척추외과 전문의 (Primary)**
   - 연구 논문 작성 경험 5년 이상
   - 통계 분석 기초 지식 보유
   - 주 2-3편의 논문 작성/리뷰

2. **의학 연구원**
   - 데이터 수집 및 정리 담당
   - 통계 프로그램 사용 경험

3. **병원 관리자**
   - 연구 프로젝트 승인 및 관리
   - 전체적인 연구 현황 파악 필요

## 3. 핵심 기능 요구사항

### 3.1 사용자 인증 (P0 - Critical)
**기능 설명**: 안전한 로그인 및 권한 관리

**상세 요구사항**:
- 이메일/비밀번호 기반 로그인
- 2단계 인증 (2FA) 지원
- 세션 타임아웃: 30분 (설정 가능)
- 비밀번호 정책: 최소 8자, 대소문자, 숫자, 특수문자 포함

**인터페이스**:
```typescript
interface LoginRequest {
  email: string;
  password: string;
  rememberMe?: boolean;
}

interface UserRole {
  id: string;
  name: 'admin' | 'researcher' | 'viewer';
  permissions: string[];
}
```

### 3.2 AI 연구 인터페이스 (P0 - Critical)
**기능 설명**: 연구 주제 입력 및 AI 지원 받기

**상세 요구사항**:
```
1. 입력 필드
   - 연구 분야 (자동완성 지원)
   - 논문 제목 (선택, 최대 200자)
   - 키워드 (태그 형식, 최대 10개)
   - 연구 세부사항 (자유 텍스트)

2. AI 처리 옵션
   - 자료 검색만
   - 논문 초안 작성
   - 통계 분석 계획
   - Informed Consent 생성

3. 예시 입력 표시
   - 각 필드별 placeholder
   - 도움말 툴팁
```

**UI 와이어프레임**:
```
┌─────────────────────────────────────┐
│  어떤것에 관하여 연구하고 싶으신가요?  │
├─────────────────────────────────────┤
│ 연구 분야: [척추외과        ▼]      │
│                                     │
│ 논문 제목: [_________________]      │
│ (선택) 예: 척추 후외방 고정술의...    │
│                                     │
│ 키워드: [CD instrument] [+추가]      │
│                                     │
│ 세부사항:                           │
│ ┌─────────────────────────────┐   │
│ │ 환자 데이터 34명              │   │
│ │ 결과는 VAS score             │   │
│ │ 통계는 SPSS                  │   │
│ └─────────────────────────────┘   │
│                                     │
│ [자료검색] [초안작성] [통계분석]     │
└─────────────────────────────────────┘
```

### 3.3 논문 검색 및 크롤링 (P0 - Critical)
**기능 설명**: 관련 논문 자동 검색 및 수집

**검색 소스**:
- PubMed
- Google Scholar
- ScienceDirect
- 병원 구독 저널

**수집 데이터**:
- 제목, 저자, 발행일
- Abstract
- Keywords
- 전문 PDF (가능한 경우)
- Citation 정보

**처리 플로우**:
```
1. 키워드 기반 검색 쿼리 생성
2. 각 소스별 병렬 검색
3. 중복 제거 및 관련도 순 정렬
4. 메타데이터 추출 및 저장
5. 전문 다운로드 시도
6. 벡터 DB에 임베딩 저장
```

### 3.4 AI 논문 작성 (P0 - Critical)
**기능 설명**: 수집된 자료를 바탕으로 논문 초안 생성

**논문 구조**:
```
1. Title
2. Abstract (250-300 words)
3. Introduction
4. Methods
   - Study Design
   - Patient Selection
   - Surgical Technique
   - Statistical Analysis
5. Results
6. Discussion
7. Conclusion
8. References
```

**AI 작성 규칙**:
- 의학 논문 작성 가이드라인 준수
- 참고문헌 자동 인용 (Vancouver style)
- 표절 검사 통합
- 전문 용어 일관성 유지

### 3.5 데이터 관리 (P1 - High)
**기능 설명**: 환자 데이터 및 연구 데이터 체계적 관리

**데이터 구조**:
```typescript
interface PatientData {
  id: string;
  projectId: string;
  anonymizedCode: string;
  demographics: {
    age: number;
    gender: 'M' | 'F';
    height?: number;
    weight?: number;
  };
  clinicalData: {
    diagnosis: string[];
    surgeryDate: Date;
    surgeryType: string;
    implants: string[];
  };
  outcomes: {
    vasScore: number[];
    odiScore?: number[];
    complications: string[];
    followUpMonths: number;
  };
}
```

**데이터 보안**:
- AES-256 암호화
- 역할 기반 접근 제어
- 감사 로그 자동 생성

### 3.6 통계 분석 (P1 - High)
**기능 설명**: 자동화된 통계 분석 및 시각화

**지원 분석**:
- 기술통계 (평균, 표준편차, 중앙값)
- t-test, ANOVA
- 카이제곱 검정
- 회귀분석
- Kaplan-Meier 생존분석

**시각화**:
- 차트 자동 생성
- 표 포맷팅
- 통계적 유의성 표시

### 3.7 Informed Consent 생성 (P2 - Medium)
**기능 설명**: 연구별 맞춤형 동의서 자동 생성

**템플릿 관리**:
- 기본 템플릿 제공
- 병원별 커스터마이징
- 버전 관리

**자동 채우기**:
- 연구 제목 및 목적
- 예상 위험 및 이익
- 연구자 정보
- 환자 권리

## 4. 비기능 요구사항

### 4.1 성능
- 페이지 로드: < 2초
- API 응답: < 500ms (AI 제외)
- AI 논문 생성: < 30초
- 동시 사용자: 100명

### 4.2 보안
- HTTPS 필수
- OWASP Top 10 대응
- 정기 보안 감사
- 데이터 백업: 일 1회

### 4.3 사용성
- 모바일 반응형 디자인
- 접근성 표준 준수 (WCAG 2.1)
- 다국어 지원 (한국어, 영어)

### 4.4 확장성
- 마이크로서비스 아키텍처
- 수평적 확장 가능
- 플러그인 시스템

## 5. 기술 제약사항

### 5.1 클라이언트
- Chrome 90+, Safari 14+, Edge 90+
- 최소 해상도: 1366x768

### 5.2 서버
- Linux (Ubuntu 20.04+)
- Python 3.10+
- Node.js 18+

### 5.3 AI 통합
- Ollama: 로컬 모델 (최소 16GB RAM)
- Claude: API 사용량 제한 고려

## 6. 마일스톤

### Phase 1 - MVP (2개월)
- [ ] 기본 인증 시스템
- [ ] AI 질문 인터페이스
- [ ] 간단한 논문 검색
- [ ] 기본 데이터 저장

### Phase 2 - 핵심 기능 (3개월)
- [ ] AI 논문 작성
- [ ] 통계 분석 통합
- [ ] 데이터 시각화
- [ ] 관리자 대시보드

### Phase 3 - 고급 기능 (2개월)
- [ ] Informed Consent 자동화
- [ ] 고급 검색 필터
- [ ] 협업 기능
- [ ] 모바일 앱

## 7. 성공 지표 (KPI)

### 7.1 사용자 지표
- 월간 활성 사용자 (MAU): 100명
- 평균 세션 시간: 30분
- 사용자 만족도: 4.5/5

### 7.2 비즈니스 지표
- 논문 작성 시간 단축: 50%
- 월간 생성 논문 수: 50편
- 시스템 가동률: 99.9%

## 8. 리스크 및 대응방안

### 8.1 기술적 리스크
- **AI 정확도**: 지속적인 모델 개선 및 사용자 피드백 반영
- **데이터 보안**: 정기 보안 감사 및 침투 테스트

### 8.2 규제 리스크
- **의료 데이터 규정**: HIPAA, 개인정보보호법 준수
- **IRB 승인**: 각 병원별 승인 프로세스 지원

## 9. 부록

### 9.1 용어 정의
- **VAS Score**: Visual Analog Scale, 통증 측정 도구
- **ODI**: Oswestry Disability Index, 기능 장애 평가
- **IRB**: Institutional Review Board, 기관심의위원회

### 9.2 참고 자료
- 의학 논문 작성 가이드라인
- SPSS 통계 분석 매뉴얼
- 개인정보보호법 의료 분야 가이드

---

작성일: 2025-07-24
버전: 1.0.0
승인자: [프로젝트 관리자]